<div class="session-content">
	<h2>Authentication 2D</h2>

	<app-subject-identifier-input></app-subject-identifier-input>

	<div class="row mx-1">
		<button [disabled]="isBusy" mat-flat-button type="button" color="primary"
			(click)="doAuthentication2d()">
			{{ isBusy ? 'Authenticating...' : 'Choose image' }}
			<input type="file" #authentication2dInput hidden (change)="handleAuthentication2dFile($event)" />
		</button>
	</div>

	<div class="error-message" *ngIf="errorMessage" style="color: red; margin: 10px 0; font-weight: bold;">
		{{ errorMessage }}
	</div>

	<div class="error-details" *ngIf="errorDetails()" style="margin: 10px 0;">
		<details>
			<summary style="cursor: pointer; color: #666; font-weight: bold;">Show Error Details</summary>
			<textarea readonly [value]="errorDetails()"
				style="width: 100%; height: 200px; margin-top: 10px; font-family: monospace; font-size: 12px; border: 1px solid #ccc; padding: 8px; background-color: #f9f9f9;">
      </textarea>
		</details>
	</div>

	<div class="form-row" *ngIf="sessionId() as sid">
		<div>SessionId: <code>{{ sid }}</code></div>
	</div>

	<div class="form-row" *ngIf="isGetStatusEnabled()">
		<button (click)="onGetStatus()">Get Session Status</button>
	</div>

	<div class="status-result" *ngIf="lastStatus() as status">
		<h3>Session Result:</h3>
		<pre>{{ status | json }}</pre>
	</div>


</div>